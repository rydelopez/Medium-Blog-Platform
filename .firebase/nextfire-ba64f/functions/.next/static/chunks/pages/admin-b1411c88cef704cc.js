(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{5683:function(e,n,t){var r,u,o=1/0,i=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,c=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s="\ud800-\udfff",a="\\u2700-\\u27bf",l="a-z\\xdf-\\xf6\\xf8-\\xff",f="A-Z\\xc0-\\xd6\\xd8-\\xde",d="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",x="['’]",h="["+d+"]",p="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",v="["+l+"]",g="[^"+s+d+"\\d+"+a+l+f+"]",j="(?:\ud83c[\udde6-\uddff]){2}",b="[\ud800-\udbff][\udc00-\udfff]",m="["+f+"]",_="(?:"+v+"|"+g+")",y="(?:"+x+"(?:d|ll|m|re|s|t|ve))?",E="(?:"+x+"(?:D|LL|M|RE|S|T|VE))?",A="(?:"+p+"|\ud83c[\udffb-\udfff])?",O="[\\ufe0e\\ufe0f]?",N="(?:\\u200d(?:"+["[^"+s+"]",j,b].join("|")+")"+O+A+")*",C="(?:"+["["+a+"]",j,b].join("|")+")"+(O+A+N),Z=RegExp(x,"g"),w=RegExp(p,"g"),R=RegExp([m+"?"+v+"+"+y+"(?="+[h,m,"$"].join("|")+")","(?:"+m+"|"+g+")+"+E+"(?="+[h,m+_,"$"].join("|")+")",m+"?"+_+"+"+y,m+"+"+E,"\\d+",C].join("|"),"g"),S=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,U="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g,k="object"==typeof self&&self&&self.Object===Object&&self,I=U||k||Function("return this")(),L=(r={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"ss"},function(e){return null==r?void 0:r[e]}),z=Object.prototype.toString,T=I.Symbol,P=T?T.prototype:void 0,V=P?P.toString:void 0;function D(e){return null==e?"":function(e){if("string"==typeof e)return e;if("symbol"==typeof(n=e)||n&&"object"==typeof n&&"[object Symbol]"==z.call(n))return V?V.call(e):"";var n,t=e+"";return"0"==t&&1/e==-o?"-0":t}(e)}var K=(u=function(e,n,t){return e+(t?"-":"")+n.toLowerCase()},function(e){var n;return function(e,n,t,r){for(var u=-1,o=e?e.length:0;++u<o;)t=n(t,e[u],u,e);return t}(function(e,n,t){if(e=D(e),void 0===n){var r;return(r=e,S.test(r))?e.match(R)||[]:e.match(i)||[]}return e.match(n)||[]}(((n=D(n=e))&&n.replace(c,L).replace(w,"")).replace(Z,"")),u,"")});e.exports=K},8195:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return t(4866)}])},9724:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(5893),u=t(1664),o=t.n(u),i=t(7294),c=t(8059);function s(e){let{username:n}=(0,i.useContext)(c.S);return n?e.children:e.fallback||(0,r.jsx)(o(),{href:"/enter",children:"You must be signed in"})}},6383:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(5893),u=t(1664),o=t.n(u);function i(e){let{posts:n,admin:t}=e;return n?(0,r.jsx)("div",{children:n.map(e=>(0,r.jsx)(c,{post:e,admin:t},e.slug))}):null}function c(e){let{post:n,admin:t=!1}=e,u=null==n?void 0:n.content.trim().split(/\s+/g).length,i=(u/100+1).toFixed(0);return(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)(o(),{href:"/".concat(n.username),children:(0,r.jsxs)("strong",{children:["By @",n.username]})}),(0,r.jsx)(o(),{href:"/".concat(n.username,"/").concat(n.slug),children:(0,r.jsx)("h2",{children:n.title})}),(0,r.jsxs)("footer",{children:[(0,r.jsxs)("span",{children:[u," words. ",i," min read"]}),(0,r.jsxs)("span",{className:"push-left",children:["❤️ ",n.heartCount||0," Hearts"]})]}),t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{href:"admin/".concat(n.slug),children:(0,r.jsx)("h3",{children:(0,r.jsx)("button",{className:"btn-blue",children:"Edit"})})}),n.published?(0,r.jsx)("p",{className:"text-success",children:"Live"}):(0,r.jsx)("p",{className:"text-danger",children:"Unpublished"})]})]})}},4866:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return v}});var r=t(5893),u=t(713),o=t.n(u),i=t(9724),c=t(6383),s=t(8059),a=t(26),l=t(7294),f=t(1163),d=t(6552),x=t(5683),h=t.n(x),p=t(6501);function v(e){return(0,r.jsx)("main",{children:(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(g,{}),(0,r.jsx)(j,{})]})})}function g(){let e=a.RZ.collection("users").doc(a.I8.currentUser.uid).collection("posts"),n=e.orderBy("createdAt"),[t]=(0,d.Kx)(n),u=null==t?void 0:t.docs.map(e=>e.data());return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:"Manage your Posts"}),(0,r.jsx)(c.Z,{posts:u,admin:!0})]})}function j(){let e=(0,f.useRouter)(),{username:n}=(0,l.useContext)(s.S),[t,u]=(0,l.useState)(""),i=encodeURI(h()(t)),c=t.length>3&&t.length<100,d=async r=>{r.preventDefault();let u=a.I8.currentUser.uid,o=a.RZ.collection("users").doc(u).collection("posts").doc(i),c={title:t,slug:i,uid:u,username:n,published:!1,content:"# hello world!",createdAt:(0,a.Bt)(),updatedAt:(0,a.Bt)(),heartCount:0};await o.set(c),p.ZP.success("Post created!"),e.push("/admin/".concat(i))};return(0,r.jsxs)("form",{onSubmit:d,children:[(0,r.jsx)("input",{value:t,onChange:e=>u(e.target.value),placeholder:"My Awesome Article!",className:o().input}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Slug:"})," ",i]}),(0,r.jsx)("button",{type:"submit",disabled:!c,className:"btn-green",children:"Create New Post"})]})}},713:function(e){e.exports={container:"Admin_container__7Kd1y",hidden:"Admin_hidden__blWKt",controls:"Admin_controls__RhTAv",input:"Admin_input__9_7r7",checkbox:"Admin_checkbox__Ttf_p"}},6552:function(e,n,t){"use strict";t.d(n,{Kx:function(){return f},ky:function(){return d},Xi:function(){return x}});var r=t(1294),u=t(7294),o=function(){return(o=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u]);return e}).apply(this,arguments)},i=function(e){return{loading:null==e,value:e}},c=function(e){var n=e?e():void 0,t=(0,u.useReducer)(function(e,n){switch(n.type){case"error":return o(o({},e),{error:n.error,loading:!1,value:void 0});case"reset":return i(n.defaultValue);case"value":return o(o({},e),{error:void 0,loading:!1,value:n.value});default:return e}},i(n)),r=t[0],c=t[1],s=(0,u.useCallback)(function(){c({type:"reset",defaultValue:e?e():void 0})},[e]),a=(0,u.useCallback)(function(e){c({type:"error",error:e})},[]),l=(0,u.useCallback)(function(e){c({type:"value",value:e})},[]);return(0,u.useMemo)(function(){return{error:r.error,loading:r.loading,reset:s,setError:a,setValue:l,value:r.value}},[r.error,r.loading,s,a,l,r.value])},s=function(e,n,t){var r=(0,u.useRef)(e);return(0,u.useEffect)(function(){!n(e,r.current)&&(r.current=e,t&&t())}),r},a=function(e,n){var t=!!e&&!!n&&(0,r.Eo)(e,n);return!e&&!n||t},l=function(e,n){var t=!!e&&!!n&&(0,r.iE)(e,n);return!e&&!n||t},f=function(e,n){var t=c(),o=t.error,i=t.loading,a=t.reset,f=t.setError,d=t.setValue,x=t.value,h=s(e,l,a);return(0,u.useEffect)(function(){if(!h.current){d(void 0);return}var e=(null==n?void 0:n.snapshotListenOptions)?(0,r.cf)(h.current,n.snapshotListenOptions,d,f):(0,r.cf)(h.current,d,f);return function(){e()}},[h.current]),[x,i,o]},d=function(e,n){var t=c(),o=t.error,i=t.loading,l=t.reset,f=t.setError,d=t.setValue,x=t.value,h=s(e,a,l);return(0,u.useEffect)(function(){if(!h.current){d(void 0);return}var e=(null==n?void 0:n.snapshotListenOptions)?(0,r.cf)(h.current,n.snapshotListenOptions,d,f):(0,r.cf)(h.current,d,f);return function(){e()}},[h.current]),[x,i,o]},x=function(e,n){var t=d(e,n),r=t[0],u=t[1],o=t[2];return[h(r,null==n?void 0:n.snapshotOptions,null==n?void 0:n.initialValue),u,o,r]},h=function(e,n,t){return(0,u.useMemo)(function(){var r;return null!==(r=null==e?void 0:e.data(n))&&void 0!==r?r:t},[e,n,t])}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8195)}),_N_E=e.O()}]);